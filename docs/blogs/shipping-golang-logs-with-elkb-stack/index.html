<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Shipping Golang logs with ELKB stack | ashish.one</title><meta name=keywords content="ELK,ELKB,Elasticsearch,Kibana,Logstash,Go,Golang,Logrus,Logs,JSON,Elastic"><meta name=description content="Goal of this blog In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).
Why ELKB stack ? Logs are very important for debugging, reporting, insights etc. In today&rsquo;s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too."><meta name=author content="Ashish Tiwari"><link rel=canonical href=https://ashish.one/blogs/shipping-golang-logs-with-elkb-stack/><link crossorigin=anonymous href=https://ashish.one/assets/css/stylesheet.ba7b1a0e212a12ce4d86f957158b1ebf0c5d1a6c7ad2b8d146953d5e6efa5beb.css integrity="sha256-unsaDiEqEs5NhvlXFYsevwxdGmx60rjRRpU9Xm76W+s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=https://ashish.one/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ashish.one/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://ashish.one/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://ashish.one/favicon.png><link rel=apple-touch-icon href=https://ashish.one/favicon.png><link rel=mask-icon href=https://ashish.one/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-149424518-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Shipping Golang logs with ELKB stack"><meta property="og:description" content="Goal of this blog In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).
Why ELKB stack ? Logs are very important for debugging, reporting, insights etc. In today&rsquo;s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too."><meta property="og:type" content="article"><meta property="og:url" content="https://ashish.one/blogs/shipping-golang-logs-with-elkb-stack/"><meta property="og:image" content="https://ashish.one/img/go-elk-logs/banner.png"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2020-06-06T23:31:33+05:30"><meta property="article:modified_time" content="2022-05-11T13:39:05+05:30"><meta property="og:site_name" content="ashish.one"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ashish.one/img/go-elk-logs/banner.png"><meta name=twitter:title content="Shipping Golang logs with ELKB stack"><meta name=twitter:description content="Goal of this blog In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).
Why ELKB stack ? Logs are very important for debugging, reporting, insights etc. In today&rsquo;s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://ashish.one/blogs/"},{"@type":"ListItem","position":2,"name":"Shipping Golang logs with ELKB stack","item":"https://ashish.one/blogs/shipping-golang-logs-with-elkb-stack/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shipping Golang logs with ELKB stack","name":"Shipping Golang logs with ELKB stack","description":"Goal of this blog In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).\nWhy ELKB stack ? Logs are very important for debugging, reporting, insights etc. In today\u0026rsquo;s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too.","keywords":["ELK","ELKB","Elasticsearch","Kibana","Logstash","Go","Golang","Logrus","Logs","JSON","Elastic"],"articleBody":" Goal of this blog In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).\nWhy ELKB stack ? Logs are very important for debugging, reporting, insights etc. In today’s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too. It is very difficult to go to each server and check all log files in case of debugging or to generate any insights or reporting.\nIn my case I used to go to every server and perform grep on log files.\nELKB Gives you an easy setup to move all yours logs into one central Place which is Elasticsearch \u0026 With a beautiful kibana interface, You can visualize all your logs. You can also make various types of dashboards.\nThis is a very small use case I am going to convert but you can find lots of big problem solving use cases on the internet about ELKB.\nI will not go much deeper about ELKB stack. You can find a wonderful explanation on elastic.co.\nTwo Parts: Write JSON logs to the file in Go Shift All JSON logs on Elasticsearch My Configuration OS: ubuntu 18.04 Go version: go version go1.13 linux/amd64 Elasticsearch version: 7.7.1 Filebeat version: filebeat version 7.7.1 (amd64) Kibana version: 7.7.1 1. Write JSON logs to the file in Go I am assuming you have already installed Go on your machine. If not then you can refer to the installation guide here.\nMy Golang version: go version go1.13 linux/amd64 Logrus This is a wonderful package available to write logs. Below is the short example of using logrus package:\n1. Install Logrus package go install github.com/sirupsen/logru 2. Create log.go and paste the below code package main import ( \"os\" log \"github.com/sirupsen/logrus\" ) func init() { f, _ := os.OpenFile(\"/tmp/go_logs/example.log\", os.O_RDWR|os.O_CREATE|os.O_APPEND, 0666) log.SetFormatter(\u0026log.JSONFormatter{}) log.SetOutput(f) } func main() { log.WithFields(log.Fields{ \"event\": \"create_profile\", \"user_id\": 10, }).Info(\"This is an info message.\") log.WithFields(log.Fields{ \"event\": \"delete_profile\", \"user_id\": 11, }).Warn(\"This is a warning message.\") log.WithFields(log.Fields{ \"event\" : \"edit_profile\", \"user_id\": 13, \"package\" : \"main\", }).Fatal(\"This is a critical message.\") } Here I have specified the log file /tmp/go_logs/example.log. You can specify according to your need. We also specified the log format JSON.\n3. Lets run the log.go $ go run log.go 4. Check log file: $ cat /tmp/go_logs/example.log Output\n{\"event\":\"create_profile\",\"level\":\"info\",\"msg\":\"This is an info message.\",\"time\":\"2020-06-06T22:51:30+05:30\",\"user_id\":10} {\"event\":\"delete_profile\",\"level\":\"warning\",\"msg\":\"This is a warning message.\",\"time\":\"2020-06-06T22:51:30+05:30\",\"user_id\":11} {\"event\":\"edit_profile\",\"level\":\"fatal\",\"msg\":\"This is a critical message.\",\"package\":\"main\",\"time\":\"2020-06-06T22:51:30+05:30\",\"user_id\":13} Here I have used the log format JSON. Every log will be written in JSON format on the newline. You can check more features about logrus here.\n2. Shift All JSON logs on Elasticsearch This part has no dependency on the above part. You can use any JSON log file irrespective of any language.\nBefore start I am assuming you have installed Elasticsearch, Filebeat \u0026 Kibana on your machine. If not then refer below link:\nInstall Elasticsearch Install Filebeat Install Kibana Note: In this part we are not going to use Logstash.\n1. Start Elasticsearch Service $ service elasticsearch start It will run on port 9200. You can verify with the below command or just hit localhost:9200 on your browser.\nashish@ashish-laptop:~$ curl localhost:9200 { \"name\" : \"753853fa62d1\", \"cluster_name\" : \"docker-cluster\", \"cluster_uuid\" : \"JLlH0Z0pQqWjGEHO8MQgZQ\", \"version\" : { \"number\" : \"7.7.1\", \"build_flavor\" : \"default\", \"build_type\" : \"docker\", \"build_hash\" : \"ad56dce891c901a492bb1ee393f12dfff473a423\", \"build_date\" : \"2020-05-28T16:30:01.040088Z\", \"build_snapshot\" : false, \"lucene_version\" : \"8.5.1\", \"minimum_wire_compatibility_version\" : \"6.8.0\", \"minimum_index_compatibility_version\" : \"6.0.0-beta1\" }, \"tagline\" : \"You Know, for Search\" } 2. Start Kibana service $ service kibana start It will run on port 5601. You can verify by visiting localhost:5601 from your browser. You should see the kibana dashboard.\n3. Edit filebeat.yml Open filebeat.yml. Add below snippet in filebeat.inputs:\nfilebeat.inputs: - type: log enabled: true paths: - /tmp/go_logs/*.log json.add_error_key: true output.elasticsearch: # Array of hosts to connect to. hosts: [\"localhost:9200\"] You can check on below link to know more about filebeat log input \u0026 JSON decoding\nhttps://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html\nhttps://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html#filebeat-input-log-config-json\n4. Restart Filebeat $ service filebeat restart Verify If Data Indexed on Elasticsearch Check Logs $ tail -f /var/log/filebeat/filebeat Check Indices: $ curl localhost:9200/_cat/indices?v Or you can simply visit localhost:9200/_cat/indices?v on your browser.\nOutput:\nhealth status index uuid pri rep docs.count docs.deleted store.size pri.store.size green open .apm-custom-link xp0mitnBQtijaZ9tEgan_g 1 0 0 0 208b 208b green open .kibana_task_manager_1 7Q4mMTYxRhCB6sfnQ2ibmA 1 0 5 0 34kb 34kb green open .apm-agent-configuration 3piA79spTbGWAVItYL3PlQ 1 0 0 0 208b 208b yellow open filebeat-7.7.1-2020.06.06-000001 nsFk7mOuTguIfaPSbeM3PA 1 1 19 0 74.9kb 74.9kb green open .kibana_1 LBmzoJspR8a8HAcs9WGr8g 1 0 54 0 171.6kb 171.6kb As you can see a new index is created by filebeat with the name filebeat-7.7.1-2020.06.06-000001. In your case index name can be different but it will start with filebeat*.\nIndex lifecycle will be handled by filebeat. You don’t need to worry about that.\nCheck Documents $ curl localhost:9200/filebeat-7.7.1-2020.06.06-000001/_search?pretty Sample Output:\n{ \"_index\" : \"filebeat-7.7.1-2020.06.06-000001\", \"_type\" : \"_doc\", \"_id\" : \"4qW3inIBVJJF9hMQm_yi\", \"_score\" : 1.0, \"_source\" : { \"@timestamp\" : \"2020-06-06T17:39:47.208Z\", \"log\" : { \"offset\" : 0, \"file\" : { \"path\" : \"/tmp/go_logs/ashish.log\" } }, \"json\" : { \"msg\" : \"This is an info message.\", \"time\" : \"2020-06-06T23:09:26+05:30\", \"user_id\" : 10, \"event\" : \"create_profile\", \"level\" : \"info\" }, \"input\" : { \"type\" : \"log\" }, \"host\" : { \"name\" : \"ashish-laptop\" }, \"agent\" : { \"version\" : \"7.7.1\", \"type\" : \"filebeat\", \"ephemeral_id\" : \"3f53f9c1-66a0-4e93-85fa-1532221c9670\", \"hostname\" : \"ashish-laptop\", \"id\" : \"72976284-d927-49d1-abcb-1d2a5be15176\" }, \"ecs\" : { \"version\" : \"1.5.0\" } } } Your data will be saved on the json key. Another is metadata which is added by filebeat. Filebeat provides lots of options, features \u0026 settings. You can use it according to your requirements.\nLogs on Kibana Visit on localhost:5601 from your browser. Create index pattern with the pattern filebeat*. Check here for more details.\nOnce you are done with defining the index pattern, Go to Discover section, Here you will see all your logs.\nYou can query on your logs. You can apply filters \u0026 create various types of dashboard to get better insights from your logs. You can find a wonderful explanation on the official site.\nIn the end We have successfully shipped our logs on Elasticsearch. This is only a small use case of ELKB Stack. It provides much more than this. You can explore more on the internet.\nPut your comments if you have any doubts.\n","wordCount":"1070","inLanguage":"en","image":"https://ashish.one/img/go-elk-logs/banner.png","datePublished":"2020-06-06T23:31:33+05:30","dateModified":"2022-05-11T13:39:05+05:30","author":{"@type":"Person","name":"Ashish Tiwari"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ashish.one/blogs/shipping-golang-logs-with-elkb-stack/"},"publisher":{"@type":"Organization","name":"ashish.one","logo":{"@type":"ImageObject","url":"https://ashish.one/favicon.png"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ashish.one/ accesskey=h title="Ashish Tiwari (Alt + H)">Ashish Tiwari</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ashish.one/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://ashish.one/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ashish.one/talks/ title=Talks><span>Talks</span></a></li><li><a href=https://ashish.one/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ashish.one/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ashish.one/>Home</a>&nbsp;»&nbsp;<a href=https://ashish.one/blogs/>Blogs</a></div><h1 class=post-title>Shipping Golang logs with ELKB stack</h1><div class=post-meta><span title='2020-06-06 23:31:33 +0530 IST'>June 6, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Ashish Tiwari&nbsp;|&nbsp;<a href=https://github.com/ashishtiwari1993/ashish.one/tree/master/content/blogs/go-logs-on-elk.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#goal-of-this-blog aria-label="Goal of this blog">Goal of this blog</a></li><li><a href=#why-elkb-stack- aria-label="Why ELKB stack ?">Why ELKB stack ?</a></li><li><a href=#two-parts aria-label="Two Parts:">Two Parts:</a></li><li><a href=#my-configuration aria-label="My Configuration">My Configuration</a></li><li><a href=#1-write-json-logs-to-the-file-in-go aria-label="1. Write JSON logs to the file in Go">1. Write JSON logs to the file in Go</a><ul><li><a href=#my-golang-version aria-label="My Golang version:">My Golang version:</a></li><li><a href=#logrushttpsgodocorggithubcomsirupsenlogrus aria-label=Logrus><a href=https://godoc.org/github.com/sirupsen/logrus>Logrus</a></a><ul><li><a href=#1-install-logrus-package aria-label="1. Install Logrus package">1. Install Logrus package</a></li><li><a href=#2-create-loggo-and-paste-the-below-code aria-label="2. Create log.go and paste the below code">2. Create <code>log.go</code> and paste the below code</a></li><li><a href=#3-lets-run-the-loggo aria-label="3. Lets run the log.go">3. Lets run the <code>log.go</code></a></li><li><a href=#4-check-log-file aria-label="4. Check log file:">4. Check log file:</a></li></ul></li></ul></li><li><a href=#2-shift-all-json-logs-on-elasticsearch aria-label="2. Shift All JSON logs on Elasticsearch">2. Shift All JSON logs on Elasticsearch</a><ul><li><a href=#1-start-elasticsearch-service aria-label="1. Start Elasticsearch Service">1. Start Elasticsearch Service</a></li><li><a href=#2-start-kibana-service aria-label="2. Start Kibana service">2. Start Kibana service</a></li><li><a href=#3-edit-filebeatyml aria-label="3. Edit filebeat.yml">3. Edit <code>filebeat.yml</code></a></li><li><a href=#4-restart-filebeat aria-label="4. Restart Filebeat">4. Restart Filebeat</a></li></ul></li><li><a href=#verify-if-data-indexed-on-elasticsearch aria-label="Verify If Data Indexed on Elasticsearch">Verify If Data Indexed on Elasticsearch</a><ul><li><a href=#check-logs aria-label="Check Logs">Check Logs</a></li><li><a href=#check-indices aria-label="Check Indices:">Check Indices:</a></li><li><a href=#check-documents aria-label="Check Documents">Check Documents</a></li><li><a href=#logs-on-kibana aria-label="Logs on Kibana">Logs on Kibana</a></li></ul></li><li><a href=#in-the-end aria-label="In the end">In the end</a></li></ul></div></details></div><div class=post-content><p><img loading=lazy src=https://ashish.one/img/go-elk-logs/banner.png alt="Go ship logs with ELK Banner"></p><h2 id=goal-of-this-blog>Goal of this blog<a hidden class=anchor aria-hidden=true href=#goal-of-this-blog>#</a></h2><p>In this blog, I am going to show you how easily we can write logs to the files in Golang. As well as we are going to store all logs on elasticsearch with EKB (Elasticsearch, Kibana, Beats).</p><h2 id=why-elkb-stack->Why ELKB stack ?<a hidden class=anchor aria-hidden=true href=#why-elkb-stack->#</a></h2><p>Logs are very important for debugging, reporting, insights etc. In today&rsquo;s tech world, We uses multiple cloud servers, private servers etc. Which consist of lots of different applications, scripts, programs, daemons, services and they generate their logs too. It is very difficult to go to each server and check all log files in case of debugging or to generate any insights or reporting.</p><p>In my case I used to go to every server and perform <code>grep</code> on log files.</p><p>ELKB Gives you an easy setup to move all yours logs into one central Place which is Elasticsearch & With a beautiful kibana interface, You can visualize all your logs. You can also make various types of dashboards.</p><p>This is a very small use case I am going to convert but you can find lots of big problem solving use cases on the internet about ELKB.</p><p>I will not go much deeper about ELKB stack. You can find a wonderful explanation on elastic.co.</p><h2 id=two-parts>Two Parts:<a hidden class=anchor aria-hidden=true href=#two-parts>#</a></h2><ol><li>Write JSON logs to the file in Go</li><li>Shift All JSON logs on Elasticsearch</li></ol><h2 id=my-configuration>My Configuration<a hidden class=anchor aria-hidden=true href=#my-configuration>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>OS: ubuntu 18.04
</span></span><span style=display:flex><span>Go version: go version go1.13 linux/amd64
</span></span><span style=display:flex><span>Elasticsearch version: 7.7.1
</span></span><span style=display:flex><span>Filebeat version: filebeat version 7.7.1 <span style=color:#f92672>(</span>amd64<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Kibana version: 7.7.1
</span></span></code></pre></div><h2 id=1-write-json-logs-to-the-file-in-go>1. Write JSON logs to the file in Go<a hidden class=anchor aria-hidden=true href=#1-write-json-logs-to-the-file-in-go>#</a></h2><p>I am assuming you have already installed Go on your machine. If not then you can refer to the installation guide <a href=https://golang.org/doc/install>here</a>.</p><h3 id=my-golang-version>My Golang version:<a hidden class=anchor aria-hidden=true href=#my-golang-version>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go version go1.13 linux/amd64
</span></span></code></pre></div><h3 id=logrushttpsgodocorggithubcomsirupsenlogrus><a href=https://godoc.org/github.com/sirupsen/logrus>Logrus</a><a hidden class=anchor aria-hidden=true href=#logrushttpsgodocorggithubcomsirupsenlogrus>#</a></h3><p>This is a wonderful package available to write logs. Below is the short example of using logrus package:</p><h4 id=1-install-logrus-package>1. Install Logrus package<a hidden class=anchor aria-hidden=true href=#1-install-logrus-package>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go install github.com/sirupsen/logru
</span></span></code></pre></div><h4 id=2-create-loggo-and-paste-the-below-code>2. Create <code>log.go</code> and paste the below code<a hidden class=anchor aria-hidden=true href=#2-create-loggo-and-paste-the-below-code>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span> <span style=color:#e6db74>&#34;github.com/sirupsen/logrus&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>init</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>OpenFile</span>(<span style=color:#e6db74>&#34;/tmp/go_logs/example.log&#34;</span>, <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_RDWR</span>|<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_CREATE</span>|<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_APPEND</span>, <span style=color:#ae81ff>0666</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>SetFormatter</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>JSONFormatter</span>{})
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>SetOutput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>WithFields</span>(<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fields</span>{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;create_profile&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;user_id&#34;</span>:   <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>  }).<span style=color:#a6e22e>Info</span>(<span style=color:#e6db74>&#34;This is an info message.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>WithFields</span>(<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fields</span>{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;delete_profile&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;user_id&#34;</span>: <span style=color:#ae81ff>11</span>,
</span></span><span style=display:flex><span>  }).<span style=color:#a6e22e>Warn</span>(<span style=color:#e6db74>&#34;This is a warning message.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>WithFields</span>(<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fields</span>{
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;event&#34;</span> : <span style=color:#e6db74>&#34;edit_profile&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;user_id&#34;</span>: <span style=color:#ae81ff>13</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;package&#34;</span> : <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>  }).<span style=color:#a6e22e>Fatal</span>(<span style=color:#e6db74>&#34;This is a critical message.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Here I have specified the log file /tmp/go_logs/example.log. You can specify according to your need. We also specified the log format <code>JSON</code>.</p><h4 id=3-lets-run-the-loggo>3. Lets run the <code>log.go</code><a hidden class=anchor aria-hidden=true href=#3-lets-run-the-loggo>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ go run log.go
</span></span></code></pre></div><h4 id=4-check-log-file>4. Check log file:<a hidden class=anchor aria-hidden=true href=#4-check-log-file>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ cat /tmp/go_logs/example.log
</span></span></code></pre></div><p>Output</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{<span style=color:#f92672>&#34;event&#34;</span>:<span style=color:#e6db74>&#34;create_profile&#34;</span>,<span style=color:#f92672>&#34;level&#34;</span>:<span style=color:#e6db74>&#34;info&#34;</span>,<span style=color:#f92672>&#34;msg&#34;</span>:<span style=color:#e6db74>&#34;This is an info message.&#34;</span>,<span style=color:#f92672>&#34;time&#34;</span>:<span style=color:#e6db74>&#34;2020-06-06T22:51:30+05:30&#34;</span>,<span style=color:#f92672>&#34;user_id&#34;</span>:<span style=color:#ae81ff>10</span>}
</span></span><span style=display:flex><span>{<span style=color:#f92672>&#34;event&#34;</span>:<span style=color:#e6db74>&#34;delete_profile&#34;</span>,<span style=color:#f92672>&#34;level&#34;</span>:<span style=color:#e6db74>&#34;warning&#34;</span>,<span style=color:#f92672>&#34;msg&#34;</span>:<span style=color:#e6db74>&#34;This is a warning message.&#34;</span>,<span style=color:#f92672>&#34;time&#34;</span>:<span style=color:#e6db74>&#34;2020-06-06T22:51:30+05:30&#34;</span>,<span style=color:#f92672>&#34;user_id&#34;</span>:<span style=color:#ae81ff>11</span>}
</span></span><span style=display:flex><span>{<span style=color:#f92672>&#34;event&#34;</span>:<span style=color:#e6db74>&#34;edit_profile&#34;</span>,<span style=color:#f92672>&#34;level&#34;</span>:<span style=color:#e6db74>&#34;fatal&#34;</span>,<span style=color:#f92672>&#34;msg&#34;</span>:<span style=color:#e6db74>&#34;This is a critical message.&#34;</span>,<span style=color:#f92672>&#34;package&#34;</span>:<span style=color:#e6db74>&#34;main&#34;</span>,<span style=color:#f92672>&#34;time&#34;</span>:<span style=color:#e6db74>&#34;2020-06-06T22:51:30+05:30&#34;</span>,<span style=color:#f92672>&#34;user_id&#34;</span>:<span style=color:#ae81ff>13</span>}
</span></span></code></pre></div><p>Here I have used the log format <code>JSON</code>. Every log will be written in JSON format on the newline. You can check more features about logrus <a href=https://github.com/sirupsen/logrus>here</a>.</p><h2 id=2-shift-all-json-logs-on-elasticsearch>2. Shift All JSON logs on Elasticsearch<a hidden class=anchor aria-hidden=true href=#2-shift-all-json-logs-on-elasticsearch>#</a></h2><p>This part has no dependency on the above part. You can use any <code>JSON</code> log file irrespective of any language.</p><p>Before start I am assuming you have installed Elasticsearch, Filebeat & Kibana on your machine. If not then refer below link:</p><ul><li><a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html>Install Elasticsearch</a></li><li><a href=https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation.html>Install Filebeat</a></li><li><a href=https://www.elastic.co/guide/en/kibana/current/install.html>Install Kibana</a></li></ul><blockquote><p><strong>Note: In this part we are not going to use Logstash.</strong></p></blockquote><h3 id=1-start-elasticsearch-service>1. Start Elasticsearch Service<a hidden class=anchor aria-hidden=true href=#1-start-elasticsearch-service>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ service elasticsearch start
</span></span></code></pre></div><p>It will run on port 9200. You can verify with the below command or just hit <code>localhost:9200</code> on your browser.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ashish@ashish-laptop:~$ curl localhost:9200
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;name&#34;</span> : <span style=color:#e6db74>&#34;753853fa62d1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;cluster_name&#34;</span> : <span style=color:#e6db74>&#34;docker-cluster&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;cluster_uuid&#34;</span> : <span style=color:#e6db74>&#34;JLlH0Z0pQqWjGEHO8MQgZQ&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;version&#34;</span> : <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;number&#34;</span> : <span style=color:#e6db74>&#34;7.7.1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;build_flavor&#34;</span> : <span style=color:#e6db74>&#34;default&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;build_type&#34;</span> : <span style=color:#e6db74>&#34;docker&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;build_hash&#34;</span> : <span style=color:#e6db74>&#34;ad56dce891c901a492bb1ee393f12dfff473a423&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;build_date&#34;</span> : <span style=color:#e6db74>&#34;2020-05-28T16:30:01.040088Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;build_snapshot&#34;</span> : false,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;lucene_version&#34;</span> : <span style=color:#e6db74>&#34;8.5.1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;minimum_wire_compatibility_version&#34;</span> : <span style=color:#e6db74>&#34;6.8.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;minimum_index_compatibility_version&#34;</span> : <span style=color:#e6db74>&#34;6.0.0-beta1&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;tagline&#34;</span> : <span style=color:#e6db74>&#34;You Know, for Search&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=2-start-kibana-service>2. Start Kibana service<a hidden class=anchor aria-hidden=true href=#2-start-kibana-service>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ service kibana start
</span></span></code></pre></div><p>It will run on port 5601. You can verify by visiting <code>localhost:5601</code> from your browser. You should see the kibana dashboard.</p><h3 id=3-edit-filebeatyml>3. Edit <code>filebeat.yml</code><a hidden class=anchor aria-hidden=true href=#3-edit-filebeatyml>#</a></h3><p>Open <code>filebeat.yml</code>. Add below snippet in <code>filebeat.inputs</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>filebeat.inputs</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>type</span>: <span style=color:#ae81ff>log</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>/tmp/go_logs/*.log</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>json.add_error_key</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>output.elasticsearch</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Array of hosts to connect to.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>hosts</span>: [<span style=color:#e6db74>&#34;localhost:9200&#34;</span>]
</span></span></code></pre></div><p>You can check on below link to know more about filebeat log input & JSON decoding</p><p><a href=https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html>https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html</a></p><p><a href=https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html#filebeat-input-log-config-json>https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html#filebeat-input-log-config-json</a></p><h3 id=4-restart-filebeat>4. Restart Filebeat<a hidden class=anchor aria-hidden=true href=#4-restart-filebeat>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ service filebeat restart
</span></span></code></pre></div><h2 id=verify-if-data-indexed-on-elasticsearch>Verify If Data Indexed on Elasticsearch<a hidden class=anchor aria-hidden=true href=#verify-if-data-indexed-on-elasticsearch>#</a></h2><h3 id=check-logs>Check Logs<a hidden class=anchor aria-hidden=true href=#check-logs>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ tail -f /var/log/filebeat/filebeat
</span></span></code></pre></div><h3 id=check-indices>Check Indices:<a hidden class=anchor aria-hidden=true href=#check-indices>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl localhost:9200/_cat/indices?v
</span></span></code></pre></div><p>Or you can simply visit <code>localhost:9200/_cat/indices?v</code> on your browser.</p><p>Output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>health status index                            uuid                   pri rep docs.count docs.deleted store.size pri.store.size
</span></span><span style=display:flex><span>green  open   .apm-custom-link                 xp0mitnBQtijaZ9tEgan_g   <span style=color:#ae81ff>1</span>   <span style=color:#ae81ff>0</span>          <span style=color:#ae81ff>0</span>            <span style=color:#ae81ff>0</span>       208b           208b
</span></span><span style=display:flex><span>green  open   .kibana_task_manager_1           7Q4mMTYxRhCB6sfnQ2ibmA   <span style=color:#ae81ff>1</span>   <span style=color:#ae81ff>0</span>          <span style=color:#ae81ff>5</span>            <span style=color:#ae81ff>0</span>       34kb           34kb
</span></span><span style=display:flex><span>green  open   .apm-agent-configuration         3piA79spTbGWAVItYL3PlQ   <span style=color:#ae81ff>1</span>   <span style=color:#ae81ff>0</span>          <span style=color:#ae81ff>0</span>            <span style=color:#ae81ff>0</span>       208b           208b
</span></span><span style=display:flex><span>yellow open   filebeat-7.7.1-2020.06.06-000001 nsFk7mOuTguIfaPSbeM3PA   <span style=color:#ae81ff>1</span>   <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>19</span>            <span style=color:#ae81ff>0</span>     74.9kb         74.9kb
</span></span><span style=display:flex><span>green  open   .kibana_1                        LBmzoJspR8a8HAcs9WGr8g   <span style=color:#ae81ff>1</span>   <span style=color:#ae81ff>0</span>         <span style=color:#ae81ff>54</span>            <span style=color:#ae81ff>0</span>    171.6kb        171.6kb
</span></span></code></pre></div><p>As you can see a new index is created by filebeat with the name <code>filebeat-7.7.1-2020.06.06-000001</code>. In your case index name can be different but it will start with <code>filebeat*</code>.</p><p>Index lifecycle will be handled by filebeat. You don’t need to worry about that.</p><h3 id=check-documents>Check Documents<a hidden class=anchor aria-hidden=true href=#check-documents>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl localhost:9200/filebeat-7.7.1-2020.06.06-000001/_search?pretty
</span></span></code></pre></div><p>Sample Output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_index&#34;</span> : <span style=color:#e6db74>&#34;filebeat-7.7.1-2020.06.06-000001&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_type&#34;</span> : <span style=color:#e6db74>&#34;_doc&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_id&#34;</span> : <span style=color:#e6db74>&#34;4qW3inIBVJJF9hMQm_yi&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_score&#34;</span> : <span style=color:#ae81ff>1.0</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_source&#34;</span> : {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;@timestamp&#34;</span> : <span style=color:#e6db74>&#34;2020-06-06T17:39:47.208Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;log&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;offset&#34;</span> : <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;file&#34;</span> : {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;path&#34;</span> : <span style=color:#e6db74>&#34;/tmp/go_logs/ashish.log&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;json&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;msg&#34;</span> : <span style=color:#e6db74>&#34;This is an info message.&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;time&#34;</span> : <span style=color:#e6db74>&#34;2020-06-06T23:09:26+05:30&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;user_id&#34;</span> : <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;event&#34;</span> : <span style=color:#e6db74>&#34;create_profile&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;level&#34;</span> : <span style=color:#e6db74>&#34;info&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;input&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span> : <span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;host&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;name&#34;</span> : <span style=color:#e6db74>&#34;ashish-laptop&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;agent&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;version&#34;</span> : <span style=color:#e6db74>&#34;7.7.1&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span> : <span style=color:#e6db74>&#34;filebeat&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ephemeral_id&#34;</span> : <span style=color:#e6db74>&#34;3f53f9c1-66a0-4e93-85fa-1532221c9670&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;hostname&#34;</span> : <span style=color:#e6db74>&#34;ashish-laptop&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span> : <span style=color:#e6db74>&#34;72976284-d927-49d1-abcb-1d2a5be15176&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ecs&#34;</span> : {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;version&#34;</span> : <span style=color:#e6db74>&#34;1.5.0&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Your data will be saved on the <code>json</code> key. Another is metadata which is added by filebeat. Filebeat provides lots of options, features & settings. You can use it according to your requirements.</p><h3 id=logs-on-kibana>Logs on Kibana<a hidden class=anchor aria-hidden=true href=#logs-on-kibana>#</a></h3><p>Visit on <code>localhost:5601</code> from your browser. Create index pattern with the pattern <code>filebeat*</code>. Check <a href=https://www.elastic.co/guide/en/kibana/current/tutorial-define-index.html>here</a> for more details.</p><p>Once you are done with defining the index pattern, Go to <code>Discover</code> section, Here you will see all your logs.</p><p><img loading=lazy src=https://ashish.one/img/go-elk-logs/kibana.png alt=Kibana-discover></p><p>You can query on your logs. You can apply filters & create various types of dashboard to get better insights from your logs. You can find a wonderful explanation on the official site.</p><h2 id=in-the-end>In the end<a hidden class=anchor aria-hidden=true href=#in-the-end>#</a></h2><p>We have successfully shipped our logs on Elasticsearch. This is only a small use case of ELKB Stack. It provides much more than this. You can explore more on the internet.</p><p>Put your comments if you have any doubts.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ashish.one/tags/elk/>ELK</a></li><li><a href=https://ashish.one/tags/elkb/>ELKB</a></li><li><a href=https://ashish.one/tags/elasticsearch/>elasticsearch</a></li><li><a href=https://ashish.one/tags/kibana/>kibana</a></li><li><a href=https://ashish.one/tags/logstash/>logstash</a></li><li><a href=https://ashish.one/tags/go/>Go</a></li><li><a href=https://ashish.one/tags/golang/>Golang</a></li><li><a href=https://ashish.one/tags/logrus/>Logrus</a></li><li><a href=https://ashish.one/tags/logs/>Logs</a></li><li><a href=https://ashish.one/tags/json/>JSON</a></li><li><a href=https://ashish.one/tags/elastic/>Elastic</a></li></ul><nav class=paginav><a class=prev href=https://ashish.one/blogs/get-start-with-bugbounty-pentest-security-researcher/><span class=title>« Prev</span><br><span>Get start with BugBounty, Pentest and Security Researcher</span></a>
<a class=next href=https://ashish.one/blogs/part-1-setup-lemp-environment-with-docker-setup-nginx-and-php/><span class=title>Next »</span><br><span>[Part 1] Setup LEMP environment with Docker - Setup Nginx and PHP</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on twitter" href="https://twitter.com/intent/tweet/?text=Shipping%20Golang%20logs%20with%20ELKB%20stack&url=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f&hashtags=ELK%2cELKB%2cElasticsearch%2cKibana%2cLogstash%2cGo%2cGolang%2cLogrus%2cLogs%2cJSON%2cElastic"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f&title=Shipping%20Golang%20logs%20with%20ELKB%20stack&summary=Shipping%20Golang%20logs%20with%20ELKB%20stack&source=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f&title=Shipping%20Golang%20logs%20with%20ELKB%20stack"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on whatsapp" href="https://api.whatsapp.com/send?text=Shipping%20Golang%20logs%20with%20ELKB%20stack%20-%20https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Shipping Golang logs with ELKB stack on telegram" href="https://telegram.me/share/url?text=Shipping%20Golang%20logs%20with%20ELKB%20stack&url=https%3a%2f%2fashish.one%2fblogs%2fshipping-golang-logs-with-elkb-stack%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><script src=https://giscus.app/client.js data-repo=ashishtiwari1993/ashish.one data-repo-id="MDEwOlJlcG9zaXRvcnkyMTAxMjkzNjY=" data-category=General data-category-id=DIC_kwDODIZR1s4CP1P2 data-mapping=title data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark_high_contrast data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://ashish.one/>ashish.one</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    
    <link rel="canonical" href="https://ashish.one/blogs/how-to-reset-1-click-installed-wordpress-on-digitalocean/">
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.91.2" />

    
    
    

<title>How to reset 1-Click Installed WordPress on DigitalOcean? â€¢ ashish.one</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to reset 1-Click Installed WordPress on DigitalOcean?"/>
<meta name="twitter:description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked."/>

<meta property="og:title" content="How to reset 1-Click Installed WordPress on DigitalOcean?" />
<meta property="og:description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ashish.one/blogs/how-to-reset-1-click-installed-wordpress-on-digitalocean/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2019-12-03T00:49:07+05:30" />
<meta property="article:modified_time" content="2020-09-02T01:51:55+05:30" /><meta property="og:site_name" content="ashish.one" />



    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="https://ashish.one/scss/hyde-hyde.4a2700e99df4fd999848994a7ceaf465d846f20a6f60022584754dffe91a943e.css" integrity="sha256-SicA6Z30/ZmYSJlKfOr0ZdhG8gpvYAIlhHVN/&#43;kalD4=">


<link rel="stylesheet" href="https://ashish.one/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="https://ashish.one/scss/tocbot.5ef07cebc3c477b54270456f149ee02922479bb7555fd344b2c69f953b0e7e5e.css" integrity="sha256-XvB868PEd7VCcEVvFJ7gKSJHm7dVX9NEssaflTsOfl4=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ashish.one/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="https://ashish.one/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://ashish.one/">
        
          ashish.one
        
        </a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/dcb52889deff3e5017a18de40c57add8?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">ashish.one</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://ashish.one/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://ashish.one/topics/">
						<span>Topics</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://ashish.one/gist/">
						<span>Gist</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://ashish.one/talks/">
						<span>Talks</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/_ashish_tiwari" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/ashishtiwari1993" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/ashish-tiwari-a40a012b" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 - 2022 ashish
  
</div>



  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>How to reset 1-Click Installed WordPress on DigitalOcean?</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Dec 03, 2019
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="https://ashish.one/tags/digitalocean">digitalocean</a>
           
      
          <a class="badge badge-tag" href="https://ashish.one/tags/wordpress">wordpress</a>
           
      
          <a class="badge badge-tag" href="https://ashish.one/tags/1-click">1-click</a>
           
      
          <a class="badge badge-tag" href="https://ashish.one/tags/installation">installation</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 3 min read
</div>


  </header>
  
  
  
    <div class="toc-wrapper">
      <input type="checkbox" id="tocToggle">
      <label for="tocToggle">Table of Content</label>
      
        <div class="toc" id="TableOfContents"></div>
      
    </div>
  
  
  <div class="post">
    <h2 id="the-requirement">The Requirement</h2>
<p>Need to install fresh wordpress with same version on wordpress droplet of digitalocean.</p>
<h2 id="the-problem">The Problem</h2>
<p>My setup (wordpress droplet) was suddenly stop working. I started debugging.</p>
<h2 id="debug">Debug</h2>
<p>Checked <code>apache2</code> and <code>mysql</code> service:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">service mysql status

service apache2 status
</code></pre></div><p>Both services was active. Then I checked the <code>apache2</code> processes with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ps -ef | grep apache2 | wc -l
<span style="color:#ae81ff">151</span>
</code></pre></div><p>Lots of apache child process has been forked. Which was not good.</p>
<p>checked apache&rsquo;s error log (<code>tail /var/log/apache2/error.log</code>), But not found anything.</p>
<p>I took decision to setup new wordpress of same version. I was little sure that some plugin was causing this problem But i don&rsquo;t have so much time to go through all plugins.</p>
<h2 id="droplet-configuration">Droplet configuration</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">OS : Ubuntu 18.04.3 LTS
Memory : 1GB
Disk : 25GB
Cost : $5/Monthly
</code></pre></div><h2 id="process-to-install-wordpress">Process to install WordPress</h2>
<h3 id="step-1-source-directory-backup">Step 1: Source directory backup</h3>
<p>Take backup with <code>cp</code> command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cd
$ mkdir ~/backup_wp
$ cp -R /var/www/html ~/backup_wp/
</code></pre></div><p>Digitalocean installs the wordpress in <code>/var/www/html/</code> path.</p>
<h3 id="step-2-database-backup">Step 2: Database backup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ mysqldump -uroot -p wordpress &gt; ~/backup_wp/wp.sql
</code></pre></div><p>Here <code>wordpress</code> is the Database name.</p>
<p>If you don&rsquo;t remember the password for MySQL, Get it from <code>wp-config.php</code>:</p>
<p><code>vim /var/www/html/wp-config.php</code></p>
<p>Check for the line<br>
<code>define( 'DB_PASSWORD', 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx' );</code></p>
<h3 id="step-3-check-version-of-the-existing-wordpress">Step 3: Check version of the existing WordPress</h3>
<p><code>vim /var/www/html/wp-includes/version.php</code></p>
<p>Look for the line<br>
<code>$wp_version = '5.2.4';</code></p>
<p>Version can be different.</p>
<h3 id="step-4-download-wordpress-zip-file">Step 4: Download WordPress zip file</h3>
<p>Go to <a href="https://wordpress.org/download/releases/">Wordpress Releases page</a>. Check for your version and download with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">wget https://wordpress.org/wordpress-5.2.4.zip
</code></pre></div><p>Unzip it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">unzip wordpress-5.2.4.zip
</code></pre></div><p>It will extract all files in <code>wordpress</code> folder.</p>
<p>If <code>unzip</code> is not already installed, Please install it with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">apt install unzip
</code></pre></div><h3 id="step-5-replace-source-of-html-with-wordpress">Step 5: Replace source of <code>/html</code> with <code>/wordpress</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">rm -rf /var/www/html
mv wordpress /var/www/html
</code></pre></div><h3 id="step-6-change-configuration">Step 6: Change configuration</h3>
<ol>
<li>
<p>Go to your website URL, It will show you below page:</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/lets_go.png" alt="Lets_go"></p>
<p>Just click on the <code>Let's go!</code> Button.</p>
</li>
<li>
<p>Put you DB conf as shown in below image</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/db_conf.png" alt="db_conf"></p>
<p>Click on the <code>Submit</code> Button.</p>
</li>
<li>
<p>Create <code>wp-config.php</code> file</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/wp-config.png" alt="wp-config"></p>
<p>Create manually (<code>vim /var/www/html/wp-config.php</code>) if it is not created automatically and click on the <code>Run the installation</code> Button.</p>
</li>
<li>
<p>You will see <code>Already Installed</code> page</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/already_installed.png" alt="already_installed"></p>
<p>Just click on the <code>Log In</code> button. It will redirect you on the admin panel login page.</p>
</li>
</ol>
<p>Now you can log in into your admin panel.</p>
<h3 id="step-7-copy-important-files-from-backup">Step 7: Copy important files from backup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cp -R ~/backup_wp/html/wp-content/plugins/ /var/www/html/wp-content/
cp -R ~/backup_wp/html/wp-content/themes/ /var/www/html/wp-content/
cp -R ~/backup_wp/html/wp-content/uploads/ /var/www/html/wp-content/
</code></pre></div><p>This will copy all existing plugins, themes &amp; all media files. But be careful while copying it, Becuase if it is the cause of your bug it can bring your site down again.</p>
<p><strong>Important Configuration</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cp ~/backup_wp/html/.htaccess /var/www/html/
</code></pre></div><p>Otherwise, your URL routing won&rsquo;t work.</p>
<h3 id="step-8-wordpress-asking-for-ftp-details">Step 8: WordPress asking for FTP details</h3>
<p>If WordPress asking for FTP details on the each option like Adding themes, Installing plugins etc. Then add below line in your <code>wp-config.php</code> file.</p>
<p><code>vim /var/www/html/wp-config.php</code></p>
<p>Add</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">define<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;FS_METHOD&#39;</span>,<span style="color:#e6db74">&#39;direct&#39;</span><span style="color:#f92672">)</span>;
</code></pre></div><h2 id="test-complete-website">Test complete website</h2>
<p>If everything went perfect, It will run smoothly. So we have successfully set up new Vanilla WordPress with exisiting database and without touching to apache configurations. If you feel any doubt or problem feel free to comment below and Also you can share your review in comments.</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="https://ashish.one/blogs/write-custom-exporters-prometheus/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">[Part 3] How to write custom prometheus exporter?</span>
    </a>
    
    
    <a href="https://ashish.one/blogs/fatal-error-concurrent-map-writes/" class="navigation-next">
      <span class="navigation-tittle">[SOLVED] Golang fatal error: concurrent map writes</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <script src="https://utteranc.es/client.js"
        repo="ashishtiwari1993/ashish.one"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    


</article>


        </div>
        
    

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-149424518-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    



<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.js"></script>
<script type="text/javascript">
  if (tocbot) {
    tocbot.init({
      
      tocSelector: '.toc',
      
      contentSelector: '.post',
      
      headingSelector: 'h2, h3, h4',
      collapseDepth: 4
    });
  }
</script>



    



    </body>
</html>

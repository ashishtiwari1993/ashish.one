<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>How to reset 1-Click Installed WordPress on DigitalOcean? | ashish.one</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked.">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="https://ashish.one/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="How to reset 1-Click Installed WordPress on DigitalOcean?" />
<meta property="og:description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ashish.one/blogs/how-to-reset-1-click-installed-wordpress-on-digitalocean/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2019-12-03T00:49:07+05:30" />
<meta property="article:modified_time" content="2020-09-02T01:51:55+05:30" /><meta property="og:site_name" content="ashish.one" />

<meta itemprop="name" content="How to reset 1-Click Installed WordPress on DigitalOcean?">
<meta itemprop="description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked."><meta itemprop="datePublished" content="2019-12-03T00:49:07+05:30" />
<meta itemprop="dateModified" content="2020-09-02T01:51:55+05:30" />
<meta itemprop="wordCount" content="525">
<meta itemprop="keywords" content="Digitalocean,WordPress,1-Click,Installation," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to reset 1-Click Installed WordPress on DigitalOcean?"/>
<meta name="twitter:description" content="The Requirement Need to install fresh wordpress with same version on wordpress droplet of digitalocean.
The Problem My setup (wordpress droplet) was suddenly stop working. I started debugging.
Debug Checked apache2 and mysql service:
service mysql status service apache2 status Both services was active. Then I checked the apache2 processes with below command:
$ ps -ef | grep apache2 | wc -l 151 Lots of apache child process has been forked."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://ashish.one/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        ashish.one
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/about/" title="About me page">
              About me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/topics/" title="Topics page">
              Topics
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/gist/" title="Gist page">
              Gist
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/talks/" title="Talks page">
              Talks
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>
    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        BLOGS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">How to reset 1-Click Installed WordPress on DigitalOcean?</h1>
      
      <p class="tracked">
          By <strong>
          
              Ashish Tiwari
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2019-12-03T00:49:07+05:30">December 3, 2019</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h2 id="the-requirement">The Requirement</h2>
<p>Need to install fresh wordpress with same version on wordpress droplet of digitalocean.</p>
<h2 id="the-problem">The Problem</h2>
<p>My setup (wordpress droplet) was suddenly stop working. I started debugging.</p>
<h2 id="debug">Debug</h2>
<p>Checked <code>apache2</code> and <code>mysql</code> service:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">service mysql status

service apache2 status
</code></pre></div><p>Both services was active. Then I checked the <code>apache2</code> processes with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ps -ef | grep apache2 | wc -l
<span style="color:#ae81ff">151</span>
</code></pre></div><p>Lots of apache child process has been forked. Which was not good.</p>
<p>checked apache&rsquo;s error log (<code>tail /var/log/apache2/error.log</code>), But not found anything.</p>
<p>I took decision to setup new wordpress of same version. I was little sure that some plugin was causing this problem But i don&rsquo;t have so much time to go through all plugins.</p>
<h2 id="droplet-configuration">Droplet configuration</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">OS : Ubuntu 18.04.3 LTS
Memory : 1GB
Disk : 25GB
Cost : $5/Monthly
</code></pre></div><h2 id="process-to-install-wordpress">Process to install WordPress</h2>
<h3 id="step-1-source-directory-backup">Step 1: Source directory backup</h3>
<p>Take backup with <code>cp</code> command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cd
$ mkdir ~/backup_wp
$ cp -R /var/www/html ~/backup_wp/
</code></pre></div><p>Digitalocean installs the wordpress in <code>/var/www/html/</code> path.</p>
<h3 id="step-2-database-backup">Step 2: Database backup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ mysqldump -uroot -p wordpress &gt; ~/backup_wp/wp.sql
</code></pre></div><p>Here <code>wordpress</code> is the Database name.</p>
<p>If you don&rsquo;t remember the password for MySQL, Get it from <code>wp-config.php</code>:</p>
<p><code>vim /var/www/html/wp-config.php</code></p>
<p>Check for the line<br>
<code>define( 'DB_PASSWORD', 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx' );</code></p>
<h3 id="step-3-check-version-of-the-existing-wordpress">Step 3: Check version of the existing WordPress</h3>
<p><code>vim /var/www/html/wp-includes/version.php</code></p>
<p>Look for the line<br>
<code>$wp_version = '5.2.4';</code></p>
<p>Version can be different.</p>
<h3 id="step-4-download-wordpress-zip-file">Step 4: Download WordPress zip file</h3>
<p>Go to <a href="https://wordpress.org/download/releases/">Wordpress Releases page</a>. Check for your version and download with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">wget https://wordpress.org/wordpress-5.2.4.zip
</code></pre></div><p>Unzip it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">unzip wordpress-5.2.4.zip
</code></pre></div><p>It will extract all files in <code>wordpress</code> folder.</p>
<p>If <code>unzip</code> is not already installed, Please install it with below command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">apt install unzip
</code></pre></div><h3 id="step-5-replace-source-of-html-with-wordpress">Step 5: Replace source of <code>/html</code> with <code>/wordpress</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">rm -rf /var/www/html
mv wordpress /var/www/html
</code></pre></div><h3 id="step-6-change-configuration">Step 6: Change configuration</h3>
<ol>
<li>
<p>Go to your website URL, It will show you below page:</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/lets_go.png" alt="Lets_go"></p>
<p>Just click on the <code>Let's go!</code> Button.</p>
</li>
<li>
<p>Put you DB conf as shown in below image</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/db_conf.png" alt="db_conf"></p>
<p>Click on the <code>Submit</code> Button.</p>
</li>
<li>
<p>Create <code>wp-config.php</code> file</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/wp-config.png" alt="wp-config"></p>
<p>Create manually (<code>vim /var/www/html/wp-config.php</code>) if it is not created automatically and click on the <code>Run the installation</code> Button.</p>
</li>
<li>
<p>You will see <code>Already Installed</code> page</p>
<p><img src="https://ashish.one/img/wordpress-digitalocean-reset/already_installed.png" alt="already_installed"></p>
<p>Just click on the <code>Log In</code> button. It will redirect you on the admin panel login page.</p>
</li>
</ol>
<p>Now you can log in into your admin panel.</p>
<h3 id="step-7-copy-important-files-from-backup">Step 7: Copy important files from backup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cp -R ~/backup_wp/html/wp-content/plugins/ /var/www/html/wp-content/
cp -R ~/backup_wp/html/wp-content/themes/ /var/www/html/wp-content/
cp -R ~/backup_wp/html/wp-content/uploads/ /var/www/html/wp-content/
</code></pre></div><p>This will copy all existing plugins, themes &amp; all media files. But be careful while copying it, Becuase if it is the cause of your bug it can bring your site down again.</p>
<p><strong>Important Configuration</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cp ~/backup_wp/html/.htaccess /var/www/html/
</code></pre></div><p>Otherwise, your URL routing won&rsquo;t work.</p>
<h3 id="step-8-wordpress-asking-for-ftp-details">Step 8: WordPress asking for FTP details</h3>
<p>If WordPress asking for FTP details on the each option like Adding themes, Installing plugins etc. Then add below line in your <code>wp-config.php</code> file.</p>
<p><code>vim /var/www/html/wp-config.php</code></p>
<p>Add</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">define<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;FS_METHOD&#39;</span>,<span style="color:#e6db74">&#39;direct&#39;</span><span style="color:#f92672">)</span>;
</code></pre></div><h2 id="test-complete-website">Test complete website</h2>
<p>If everything went perfect, It will run smoothly. So we have successfully set up new Vanilla WordPress with exisiting database and without touching to apache configurations. If you feel any doubt or problem feel free to comment below and Also you can share your review in comments.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="https://ashish.one/tags/digitalocean" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Digitalocean</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/wordpress" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">WordPress</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/1-click" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">1-Click</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/installation" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Installation</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://ashish.one/" >
    &copy;  ashish.one 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div></div>
  </div>
</footer>

  </body>
</html>

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>[Part 4] Setup Grafana With Prometheus | ashish.one</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="As you know Prometheus already having UI (localhost:9090). But it is not enough to give you better visualization on one screen. For better visualization and a graphical representation, we are going to use Grafana.
What is Grafana? As grafana.com says
 ”Grafana is the open-source analytics and monitoring solution for every database.”
 This means Grafana is an independent tool for analytics and monitor which gives your various types of Graphs.">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="https://ashish.one/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="[Part 4] Setup Grafana With Prometheus" />
<meta property="og:description" content="As you know Prometheus already having UI (localhost:9090). But it is not enough to give you better visualization on one screen. For better visualization and a graphical representation, we are going to use Grafana.
What is Grafana? As grafana.com says
 ”Grafana is the open-source analytics and monitoring solution for every database.”
 This means Grafana is an independent tool for analytics and monitor which gives your various types of Graphs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ashish.one/blogs/setup-grafana-with-prometheus/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2020-04-03T21:32:48+05:30" />
<meta property="article:modified_time" content="2020-09-02T01:51:55+05:30" /><meta property="og:site_name" content="ashish.one" />

<meta itemprop="name" content="[Part 4] Setup Grafana With Prometheus">
<meta itemprop="description" content="As you know Prometheus already having UI (localhost:9090). But it is not enough to give you better visualization on one screen. For better visualization and a graphical representation, we are going to use Grafana.
What is Grafana? As grafana.com says
 ”Grafana is the open-source analytics and monitoring solution for every database.”
 This means Grafana is an independent tool for analytics and monitor which gives your various types of Graphs."><meta itemprop="datePublished" content="2020-04-03T21:32:48+05:30" />
<meta itemprop="dateModified" content="2020-09-02T01:51:55+05:30" />
<meta itemprop="wordCount" content="718">
<meta itemprop="keywords" content="prometheus,grafana,grafana-dashboard,node-exporter,dashboard,alertmanager," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Part 4] Setup Grafana With Prometheus"/>
<meta name="twitter:description" content="As you know Prometheus already having UI (localhost:9090). But it is not enough to give you better visualization on one screen. For better visualization and a graphical representation, we are going to use Grafana.
What is Grafana? As grafana.com says
 ”Grafana is the open-source analytics and monitoring solution for every database.”
 This means Grafana is an independent tool for analytics and monitor which gives your various types of Graphs."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://ashish.one/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        ashish.one
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/about/" title="About me page">
              About me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/topics/" title="Topics page">
              Topics
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/gist/" title="Gist page">
              Gist
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ashish.one/talks/" title="Talks page">
              Talks
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>
    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        BLOGS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">[Part 4] Setup Grafana With Prometheus</h1>
      
      <p class="tracked">
          By <strong>
          
              Ashish Tiwari
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-04-03T21:32:48+05:30">April 3, 2020</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>As you know Prometheus already having UI (<code>localhost:9090</code>). But it is not enough to give you better visualization on one screen. For better visualization and a graphical representation, we are going to use Grafana.</p>
<h2 id="what-is-grafana">What is Grafana?</h2>
<p>As <a href="https://grafana.com">grafana.com</a> says</p>
<blockquote>
<p><strong>”Grafana is the open-source analytics and monitoring solution for every database.”</strong></p>
</blockquote>
<p>This means Grafana is an independent tool for analytics and monitor which gives your various types of Graphs. It is not restricted to Prometheus DB only, You can use mostly any Databases like MySQL, Elasticsearch, etc. So you can visualize different data points from the different databases on one screen. This is the flexibility and power Grafana provides.</p>
<p>Grafana works on TSDB(Time Series Database) or Your data should be save in time series manner. Check explaination <a href="https://grafana.com/docs/grafana/latest/guides/timeseries/">here</a>.</p>
<p>It has an alert system. You can configure an alert on Grafana itself for any Metric.</p>
<h2 id="why-grafana">Why Grafana?</h2>
<ol>
<li>Open-source of course freely Available</li>
<li>It is constantly contributed by the community. It is stable and used by many good brands.</li>
<li>Good community support and well documented.</li>
<li>You do not need any big infrastructure to get started.</li>
<li>Lots of pre-build Grafana dashboards already available and build by the community.  So it will be a rare case where you have to build your dashboard.</li>
</ol>
<h2 id="my-local-system-configuration">My local system configuration:</h2>
<ul>
<li>8GB RAM</li>
<li>Ubuntu 18.04 LTS</li>
</ul>
<p>You can check <a href="https://grafana.com/docs/grafana/latest/installation/requirements/">here</a> your system requirement according to your Operating System. Also, They explained different ways to install Grafana for different OS.</p>
<h2 id="setup-grafana">Setup Grafana</h2>
<h3 id="installation">Installation</h3>
<p>Grafana has two types of Software:</p>
<ol>
<li><strong>Enterprise Release</strong></li>
<li><strong>Open-Sources Software(OSS) or Community Release</strong></li>
</ol>
<p>We are going to install OSS Release.</p>
<h4 id="step-1-install-apt-transport-https">Step 1: Install <code>apt-transport-https</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ sudo apt-get install -y apt-transport-https
</code></pre></div><p><img src="https://ashish.one/img/grafana-setup/apt-transport-https.png" alt="apt-transport-https"></p>
<h4 id="step-2-install-wget">Step 2: Install <code>wget</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ sudo apt-get install -y software-properties-common wget
</code></pre></div><p><img src="https://ashish.one/img/grafana-setup/install-wget.png" alt="install-wget"></p>
<h4 id="step-3-add-key">Step 3: Add key</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -
</code></pre></div><h4 id="step-4-add-apt-repository">Step 4: Add <code>apt</code> Repository</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ sudo add-apt-repository <span style="color:#e6db74">&#34;deb https://packages.grafana.com/oss/deb stable main&#34;</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">OK
</code></pre></div><h4 id="step-5-update--install">Step 5: Update &amp; Install</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ sudo apt-get update
$ sudo apt-get install grafana
</code></pre></div><p><img src="https://ashish.one/img/grafana-setup/install-grafana.png" alt="install-grafana"></p>
<h4 id="step-6-start-grafana-server">Step 6: Start <code>grafana-server</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ sudo systemctl daemon-reload  
$ sudo systemctl start grafana-server  
$ sudo systemctl status grafana-server  
</code></pre></div><p><img src="https://ashish.one/img/grafana-setup/grafana-status.png" alt="grafana-status"></p>
<h4 id="step-7-visit-localhost3000">Step 7: Visit <code>localhost:3000</code></h4>
<p><img src="https://ashish.one/img/grafana-setup/grafana-browser.png" alt="grafana-browser"></p>
<h3 id="install-with-docker">Install with Docker</h3>
<p>Ignore this part if you not using docker.</p>
<pre tabindex="0"><code>docker run -d -p 3000:3000 grafana/grafana
</code></pre><p>visit <code>localhost:3000</code>.</p>
<p>We have successfully installed Grafana. Let&rsquo;s configure with Prometheus.</p>
<h2 id="configure-with-prometheus">Configure with Prometheus</h2>
<p>We already setup Prometheus in <a href="https://ashish.one/blogs/setup-prometheus-and-exporters/">part 1</a>. Now I am considering your Prometheus and Node exporter are running on port <code>9090</code> &amp; <code>9100</code> respectively.</p>
<h3 id="setup-grafana----prometheus">Setup Grafana &lt;&ndash;&gt; Prometheus</h3>
<h4 id="step-1-login-on-grafana">Step 1: Login on Grafana</h4>
<p>Visit <code>localhost:3000</code>. 3000 is the default port of Grafana, However, you can run on any port. To change the port see the <a href="https://grafana.com/docs/grafana/latest/installation/configuration/">configuration</a>.</p>
<p>Login into Grafana with default Credentials:</p>
<p><strong>Username</strong>:<code>admin</code><br>
<strong>Password</strong>:<code>admin</code></p>
<p>Now it will ask you to change your password. Once done, Click on <code>save</code>, You will be redirect on the dashboard.</p>
<p><img src="https://ashish.one/img/grafana-setup/grafana-dashboard.png" alt="grafana-dashboard"></p>
<h4 id="step-2-add-data-source">Step 2: Add Data Source</h4>
<p>Goto Sidebar &amp; Navigate:</p>
<p><strong><em>Configuration -&gt; Data Sources</em></strong></p>
<p><img src="https://ashish.one/img/grafana-setup/datasource.png" alt="datasource"></p>
<p>click on <code>Add data source</code>.
<img src="https://ashish.one/img/grafana-setup/prometheus-data-source.png" alt="prometheus-data-source"></p>
<p>Search for <code>Prometheus</code> &amp; click on <code>Select</code>.</p>
<p>Add Prometheus endpoint in <code>URL</code> and click on <code>save &amp; Test</code>.</p>
<p><img src="https://ashish.one/img/grafana-setup/grafana-prometheus-config.png" alt="grafana-prometheus-config"></p>
<p>You will get the notification for success. Here we have successfully integrated Grafana and Prometheus.</p>
<h4 id="step-3-add-dashboard">Step 3: Add Dashboard</h4>
<p>Here we have two option available:</p>
<ol>
<li><strong><em>Create your Dashboard</em></strong></li>
<li><strong><em>Import any pre-build Dashboard</em></strong></li>
</ol>
<p>We will go with the second option because that is the beauty of community :) People already build a dashboard for various stacks.</p>
<p>You can search for Dashboard from <a href="https://grafana.com/grafana/dashboards">https://grafana.com/grafana/dashboards</a> as per your requirement.</p>
<p>Here is the link for Node exporter dashboard: <a href="https://grafana.com/grafana/dashboards/1860">https://grafana.com/grafana/dashboards/1860</a></p>
<p>Here Dashboard ID is <code>1860</code>. Every dashboard which contributed in Grafana has unique ID. You can just import any dashboard by inserting the ID.</p>
<p><img src="https://ashish.one/img/grafana-setup/node-exporter-dashboard.png" alt="node-exporter-dashboard"></p>
<p>On Grafana Goto sidebar &amp; Navigate:</p>
<p><strong><em>+(Plus/Add sign) -&gt; Import</em></strong></p>
<p>Enter Dashboard Id and click on <code>load</code>. After that<br>
<img src="https://ashish.one/img/grafana-setup/dashboard-id.png" alt="dashboard-id"></p>
<p>Enter the Name &amp; select Prometheus on label <code>Prometheus</code> as shown in below image.
<img src="https://ashish.one/img/grafana-setup/dashboard-config.png" alt="dashboard-config"></p>
<p>Click on <code>Import</code>.</p>
<p>Your Dashboard will be ready.</p>
<p><img src="https://ashish.one/img/grafana-setup/node-dashboard.png" alt="node-dashboard"></p>
<p>Here we have successfully integrated the Grafana with Prometheus. You can explore more features of Grafana like Alerts, Users, etc.</p>
<p>For the alerting system, I prefer Prometheus Alertmanager only. You can check more details on the Alertmanager in <a href="https://ashish.one/blogs/setup-alertmanager/">part 2</a>. It gives you more control and advanced feature.</p>
<p>But every tool has use cases and built for special purposes. You can choose according to your requirements.</p>
<p><strong>In case of any confusion or issues leave comments below :)</strong></p>
<ul class="pa0">
  
   <li class="list">
     <a href="https://ashish.one/tags/prometheus" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">prometheus</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/grafana" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">grafana</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/grafana-dashboard" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">grafana-dashboard</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/node-exporter" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">node-exporter</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/dashboard" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">dashboard</a>
   </li>
  
   <li class="list">
     <a href="https://ashish.one/tags/alertmanager" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">alertmanager</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="https://ashish.one/blogs/write-custom-exporters-prometheus/">[Part 3] How to write custom prometheus exporter?</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://ashish.one/blogs/setup-alertmanager/">[Part 2] How to setup alertmanager and send alerts ?</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://ashish.one/blogs/setup-prometheus-and-exporters/">[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://ashish.one/" >
    &copy;  ashish.one 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div></div>
  </div>
</footer>

  </body>
</html>

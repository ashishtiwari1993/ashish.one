<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? | ashish.one</title><meta name=keywords content="prometheus,alertmanager"><meta name=description content="As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday&rsquo;s life."><meta name=author content="Ashish Tiwari"><link rel=canonical href=https://ashish.one/blogs/setup-prometheus-and-exporters/><link crossorigin=anonymous href=https://ashish.one/assets/css/stylesheet.ba7b1a0e212a12ce4d86f957158b1ebf0c5d1a6c7ad2b8d146953d5e6efa5beb.css integrity="sha256-unsaDiEqEs5NhvlXFYsevwxdGmx60rjRRpU9Xm76W+s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=https://ashish.one/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ashish.one/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://ashish.one/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://ashish.one/favicon.png><link rel=apple-touch-icon href=https://ashish.one/favicon.png><link rel=mask-icon href=https://ashish.one/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-149424518-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?"><meta property="og:description" content="As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday&rsquo;s life."><meta property="og:type" content="article"><meta property="og:url" content="https://ashish.one/blogs/setup-prometheus-and-exporters/"><meta property="og:image" content="https://www.gravatar.com/avatar/dcb52889deff3e5017a18de40c57add8?s=200"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2019-09-22T15:20:39+05:30"><meta property="article:modified_time" content="2022-05-11T13:39:05+05:30"><meta property="og:site_name" content="ashish.one"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/dcb52889deff3e5017a18de40c57add8?s=200"><meta name=twitter:title content="[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?"><meta name=twitter:description content="As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday&rsquo;s life."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://ashish.one/blogs/"},{"@type":"ListItem","position":2,"name":"[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?","item":"https://ashish.one/blogs/setup-prometheus-and-exporters/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?","name":"[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?","description":"As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday\u0026rsquo;s life.","keywords":["prometheus","alertmanager"],"articleBody":"As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday’s life.\n“Never send a human to do a machine’s job”\nAt some time, deploying humans to check all these and that too for 24 * 7 can be a real pain.\nThat’s exactly the purpose of writing this tutorial series around monitoring and alerting. In this tutorial, you will learn how to setup Prometheus as a universal monitoring system and how to use its exporter to define and fetch the metrics which are really important to track.\nWhat is Prometheus? Prometheus is an open-source system for monitoring and alerting. It developed in the GO language. It is currently a standalone open source project and maintained independently by any organization. You can check more details here.\nWhy Prometheus? Open-source and of course freely available :) It is constantly contributed by the community. It is stable and used by many good brands. Check Stackshare. Good community support and well documented. You do not need any big infrastructure to get started. It can be started with 1 GB RAM. It has its own UI to check any metrics. But, many prefer Grafana with Prometheus which gives you better visualization on your Prometheus metrics. Lots of pre-build Grafana dashboard and exporters already written. You have to just reuse those exporters. You can check the list of Prometheus features here. You can check the list of Prometheus features here. Prerequisites for setting up Prometheus Here Is This Tutorial, Prometheus Is Installed And Tested On A Test Server With Minimum Configuration:\n2 GB RAM 10 GB Avg local disk storage. GOLANG (go1.11.5 linux/amd64) Centos7 RHEL Setup Prometheus Installation There are multiple ways to install Prometheus. You can use docker image or use any of the available configuration management systems like Ansible, chef, puppet and salt stack. For more information on installation, visit the official installation guide here.\nIt also has pre-compiled binaries available. I am going to use this binary for installation because it is easy to set up and easy to understand because of we already familiar with the utilization of binary files.\nStep 1: Download the Prometheus binary Visit Prometheus download page. It will give you a list of pre-compiled binaries for drawins, linux, and windows. You can download according to your OS. Below, the installation is explained for Linux OS.\nOR\nYou can simply fire below command in your Linux terminal:\n$ wget https://github.com/prometheus/prometheus/releases/download/v2.11.1/prometheus-2.11.1.linux-amd64.tar.gz Step 2: Extract The Tar $ tar -xvzf prometheus-2.11.1.linux-amd64.tar.gz Step 3: After Extraction Steps $ mv prometheus-2.11.1.linux-amd64 prometheus $ cd prometheus/$ ll Folder contains below file:\nprometheus: It’s a binary file which is the core daemon. prometheus.yml: This is the config file for Prometheus service. promtool: This is another binary file which is used to compile the alert rules file. This will be explained in detail in the next series to this tutorial. Step 4: Execute The Binary File Using The Below Command: $ ./prometheus Visit localhost:9090 on your web browser:\nYour Prometheus is up and running!\nIf you notice in prometheus/ folder, It created a folder with the name data. Prometheus starts storing metrics in this /data folder only.\nNow get all metric list by hitting the URL to localhost:9090/metrics\nPrometheus stores data on disk in time series, with its custom format. Behind the scenes, it uses leveldb. You can check more details on storage.\nHere is a sample production command:\n$ ~/prometheus/prometheus --storage.tsdb.path=/var/lib/prometheus/data/ --web.external-url=http://myurl.com:9090 --storage.tsdb.path: Specify the path where you want to save Prometheus data.\n--web.external-url: You can use this option if you want to bind your address with your URL.\nYou can get below error in case of your folder don’t have appropriate permission:\nlevel=error ts=2019-08-06T14:25:19.791Z caller=main.go:731 err=\"opening storage failed: lock DB directory: open /var/lib/lock: permission denied\"\nYou can try appending sudo to your command OR you can give appropriate permission to your folder.\nStep 5: Run Prometheus As Service. Create File $ vim /etc/systemd/system/prometheus.service Just paste below code: [Unit] Description=Prometheus Server Documentation=https://prometheus.io/docs/introduction/overview/ After=network-online.target [Service] User=root Restart=on-failure #Change this line if you download the #Prometheus on different path user ExecStart=~/prometheus/prometheus --storage.tsdb.path=/var/lib/prometheus/data/ --web.external-url=http://myurl.com:9090 [Install] WantedBy=multi-user.target Save and exit. Reload the Systemctl Daemon: $ sudo systemctl daemon-reload Start the Prometheus service: sudo systemctl start prometheus Till now you learned how to do basic Prometheus setup. Now, you will learn, how to set up Prometheus exporter.\nPrometheus Exporter Setup What Is Exporter? Exporters can be any scripts or services which will fetch specific metrics from your system and gives data in Prometheus format. There are primarily two ways by which you can fetch metrics and store into Prometheus:\nVia exporter, In which one service will run on a specific port. So whenever Prometheus service will hit exporter URL with the specific port it will give output in Prometheus format. We will see sample response in the below example during setting up the node exporter.\nThe second approach is you can write a script which will push data in time series to the Prometheus server. Any metric which cannot be scrape by the exporter, It can be pushed using the push method. You will get more info here on this.\nYou can use both methods but usually, people prefer the first one to fetch metrics.\nSo now we are going to setup node exporter. It will fetch your server metrics which will be RAM/DISK/CPU utilization, network, io etc.\nNode Exporter Setup Step 1: Download The Binary File And Start Node Exporter: $ wget https://github.com/prometheus/node_exporter/releases/download/v0.18.1/node_exporter-0.18.1.linux-amd64.tar.gz $ tar -xvzf node_exporter-0.18.1.linux-amd64.tar.gz $ mv node_exporter-0.18.1.linux-amd64 node_exporter $ cd node_exporter $ ./node_exporter You should see below output once the node exporter is started:\nJust visit to localhost:9100/metrics\nStep 2: Let’s Run Node Exporter As Service: Create a file in below path: /etc/systemd/system/node-exporter.service Just paste below code: [Unit] Description=Node exporter After=network-online.target [Service] User=root Restart=on-failure #Change this line if you download the #Prometheus on different path user ExecStart=~/node_exporter/node_exporter [Install] WantedBy=multi-user.target Reload the systemctl daemon: sudo systemctl daemon-reload Start the Prometheus service: sudo systemctl start node-exporter Step 3: prometheus.yml You Are Set With Node Exporter. Now In Prometheus, We Need To Configure This Node Exporter Reference So That Prometheus Can Collect Metrics From This Exporter.\nOpen file ~/prometheus/prometheus.yml add below configuration:\nscrape_configs: # The job name is added as a label `job=` to any timeseries scraped from this config. - job_name: 'prometheus' # metrics_path defaults to '/metrics' # scheme defaults to 'http'. static_configs: - targets: ['localhost:9090'] # Add below block for node_exporter - job_name: node_exporter scrape_interval: 1m scrape_timeout: 1m metrics_path: \"/metrics\" static_configs: - targets: ['localhost:9100'] Save and exit.\njob_name: You can give any name to your scrape job.\nscrape_interval: Interval in which Prometheus will scrape the metrics from the specified URL.\nscrape_timeout: If your exporter has taken more than 1m to scrape the metrics it will be a timeout.\nmetric_path: This is what your endpoint’s path should be (i.e localhost:9100/metrics)\ntargets: Here you can specify the number of servers on which node exporter is running with the same configuration.\nStep 4: Here’s The Command To Execute Prometheus: ~/prometheus/prometheus --storage.tsdb.path=/var/lib/prometheus/data/ --config.file=~/prometheus/prometheus.yml --web.external-url=http://myurl.com:9090 Also, don’t forget to make the same changes in your service file:/etc/systemd/system/prometheus.service\nStep 5: Restart prometheus service sudo systemctl restart prometheus Step 6: Visiting Localhost:9090 Again Now visit the URL localhost:9090. In Expression field you can search for node_filesystem_size_bytes by clicking on the Execute button. You will get the below stats:\nAfter clicking on the graph:\nInstallation with Docker Prometheus docker run \\ -p 9090:9090 \\ -v ~/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml \\ prom/prometheus Node Exporter docker run -d \\ --net=\"host\" \\ --pid=\"host\" \\ -v \"/:/host:ro,rslave\" \\ quay.io/prometheus/node-exporter \\ --path.rootfs=/host The rest of option will remain same as i explained in above parts.\nAt the end Like this, you can explore each metrics like memory, CPU, etc.\nThere are already lots of exporters is available on the internet like Nginx exporter, MongoDB exporter, MySQL server exporter, etc. Just download them and start using it. You can check more info about exporter here.\nYou have now successfully installed Prometheus and node exporters.\nIf you see this official architecture diagram, we have successfully set up the Prometheus, Pushgateway/Exporters, and Prometheus UI.\nIn the Part 2, we will see how we can set up an alert manager and how to setup alert over the metrics.\nStay tuned for the new updates.\n“NOTE: PROMETHEUS IS METRIC STORAGE SYSTEM. DON’T TRY TO STORE ANY KIND OF LOGS. IT IS NOT RECOMMENDED.”\nIn case of any confusion or issues leave comments below :)\nArticle partially posted on Pepipost tutorial by me.\n","wordCount":"1480","inLanguage":"en","datePublished":"2019-09-22T15:20:39+05:30","dateModified":"2022-05-11T13:39:05+05:30","author":{"@type":"Person","name":"Ashish Tiwari"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ashish.one/blogs/setup-prometheus-and-exporters/"},"publisher":{"@type":"Organization","name":"ashish.one","logo":{"@type":"ImageObject","url":"https://ashish.one/favicon.png"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ashish.one/ accesskey=h title="Ashish Tiwari (Alt + H)">Ashish Tiwari</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ashish.one/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://ashish.one/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ashish.one/talks/ title=Talks><span>Talks</span></a></li><li><a href=https://ashish.one/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ashish.one/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ashish.one/>Home</a>&nbsp;»&nbsp;<a href=https://ashish.one/blogs/>Blogs</a></div><h1 class=post-title>[Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring?</h1><div class=post-meta><span title='2019-09-22 15:20:39 +0530 IST'>September 22, 2019</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Ashish Tiwari&nbsp;|&nbsp;<a href=https://github.com/ashishtiwari1993/ashish.one/tree/master/content/blogs/monitoring-and-alerting-with-prometheus.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><ul><li><a href=#what-is-prometheus aria-label="What is Prometheus?">What is Prometheus?</a></li><li><a href=#why-prometheus aria-label="Why Prometheus?">Why Prometheus?</a></li><li><a href=#prerequisites-for-setting-up-prometheus aria-label="Prerequisites for setting up Prometheus">Prerequisites for setting up Prometheus</a></li><li><a href=#setup-prometheus aria-label="Setup Prometheus">Setup Prometheus</a><ul><li><a href=#installation aria-label=Installation>Installation</a><ul><li><a href=#step-1-download-the-prometheus-binary aria-label="Step 1: Download the Prometheus binary">Step 1: Download the Prometheus binary</a></li><li><a href=#step-2-extract-the-tar aria-label="Step 2: Extract The Tar">Step 2: Extract The Tar</a></li><li><a href=#step-3-after-extraction-steps aria-label="Step 3: After Extraction Steps">Step 3: After Extraction Steps</a></li><li><a href=#step-4-execute-the-binary-file-using-the-below-command aria-label="Step 4: Execute The Binary File Using The Below Command:">Step 4: Execute The Binary File Using The Below Command:</a></li><li><a href=#step-5-run-prometheus-as-service aria-label="Step 5: Run Prometheus As Service.">Step 5: Run Prometheus As Service.</a></li></ul></li></ul></li><li><a href=#prometheus-exporter-setup aria-label="Prometheus Exporter Setup">Prometheus Exporter Setup</a><ul><li><a href=#what-is-exporter aria-label="What Is Exporter?">What Is Exporter?</a></li><li><a href=#node-exporter-setup aria-label="Node Exporter Setup">Node Exporter Setup</a><ul><li><a href=#step-1-download-the-binary-file-and-start-node-exporter aria-label="Step 1: Download The Binary File And Start Node Exporter:">Step 1: Download The Binary File And Start Node Exporter:</a></li><li><a href=#step-2-lets-run-node-exporter-as-service aria-label="Step 2: Let&amp;rsquo;s Run Node Exporter As Service:">Step 2: Let&rsquo;s Run Node Exporter As Service:</a></li><li><a href=#step-3-prometheusyml aria-label="Step 3: prometheus.yml">Step 3: <code>prometheus.yml</code></a></li><li><a href=#step-4-heres-the-command-to-execute-prometheus aria-label="Step 4: Here&amp;rsquo;s The Command To Execute Prometheus:">Step 4: Here&rsquo;s The Command To Execute Prometheus:</a></li><li><a href=#step-5-restart-prometheus-service aria-label="Step 5: Restart prometheus service">Step 5: Restart prometheus service</a></li><li><a href=#step-6-visiting-localhost9090-again aria-label="Step 6: Visiting Localhost:9090 Again">Step 6: Visiting Localhost:9090 Again</a></li></ul></li></ul></li><li><a href=#installation-with-docker aria-label="Installation with Docker">Installation with Docker</a><ul><li><a href=#prometheus aria-label=Prometheus>Prometheus</a></li><li><a href=#node-exporter aria-label="Node Exporter">Node Exporter</a></li></ul></li></ul><li><a href=#at-the-end aria-label="At the end">At the end</a></li></ul></div></details></div><div class=post-content><p>As a developer, many times you would have worried, whether your services are up and running or not. Not only that, sometimes as an infrastructure guy you might be also worried about your server’s health too. What is the current RAM or disk utilization? or whether they are going to be fully occupied which in turn can completely bring the system down. These are just the basics and in fact there are tons of more such things which need to be monitored and fixed in everyday&rsquo;s life.</p><blockquote><p><strong>“Never send a human to do a machine&rsquo;s job”</strong></p></blockquote><p>At some time, deploying humans to check all these and that too for 24 * 7 can be a real pain.</p><p>That&rsquo;s exactly the purpose of writing this tutorial series around monitoring and alerting. In this tutorial, you will learn how to setup Prometheus as a universal monitoring system and how to use its exporter to define and fetch the metrics which are really important to track.</p><h2 id=what-is-prometheus>What is Prometheus?<a hidden class=anchor aria-hidden=true href=#what-is-prometheus>#</a></h2><p>Prometheus is an open-source system for monitoring and alerting. It developed in the GO language. It is currently a standalone open source project and maintained independently by any organization. You can check more details <a href=https://prometheus.io/docs/introduction/overview/#what-is-prometheus>here</a>.</p><h2 id=why-prometheus>Why Prometheus?<a hidden class=anchor aria-hidden=true href=#why-prometheus>#</a></h2><ol><li>Open-source and of course freely available :)</li><li>It is constantly contributed by the community. It is stable and used by many good brands. Check <a href=https://stackshare.io/prometheus>Stackshare</a>.</li><li>Good community support and well documented.</li><li>You do not need any big infrastructure to get started. It can be started with 1 GB RAM.</li><li>It has its own UI to check any metrics. But, many prefer Grafana with Prometheus which gives you better visualization on your Prometheus metrics.</li><li>Lots of pre-build Grafana dashboard and exporters already written. You have to just reuse those exporters.
You can check the list of Prometheus features <a href=https://prometheus.io/docs/introduction/overview/#features>here</a>.</li><li>You can check the list of Prometheus features <a href=https://prometheus.io/docs/introduction/overview/#features>here</a>.</li></ol><h2 id=prerequisites-for-setting-up-prometheus>Prerequisites for setting up Prometheus<a hidden class=anchor aria-hidden=true href=#prerequisites-for-setting-up-prometheus>#</a></h2><p>Here Is This Tutorial, Prometheus Is Installed And Tested On A Test Server With Minimum Configuration:</p><ul><li>2 GB RAM</li><li>10 GB Avg local disk storage.</li><li>GOLANG (go1.11.5 linux/amd64)</li><li>Centos7 RHEL</li></ul><h2 id=setup-prometheus>Setup Prometheus<a hidden class=anchor aria-hidden=true href=#setup-prometheus>#</a></h2><h3 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h3><p>There are multiple ways to install Prometheus. You can use docker image or use any of the available configuration management systems like Ansible, chef, puppet and salt stack. For more information on installation, visit the official installation guide here.</p><p>It also has pre-compiled binaries available. I am going to use this binary for installation because it is easy to set up and easy to understand because of we already familiar with the utilization of binary files.</p><h4 id=step-1-download-the-prometheus-binary>Step 1: Download the Prometheus binary<a hidden class=anchor aria-hidden=true href=#step-1-download-the-prometheus-binary>#</a></h4><p>Visit <a href=https://prometheus.io/download/>Prometheus</a> download page. It will give you a list of pre-compiled binaries for drawins, linux, and windows. You can download according to your OS. Below, the installation is explained for Linux OS.</p><p>OR</p><p>You can simply fire below command in your Linux terminal:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ wget https://github.com/prometheus/prometheus/releases/download/v2.11.1/prometheus-2.11.1.linux-amd64.tar.gz
</span></span></code></pre></div><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/download_prometheus_binary.png alt="prometheus binary download"></p><h4 id=step-2-extract-the-tar>Step 2: Extract The Tar<a hidden class=anchor aria-hidden=true href=#step-2-extract-the-tar>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ tar -xvzf prometheus-2.11.1.linux-amd64.tar.gz
</span></span></code></pre></div><h4 id=step-3-after-extraction-steps>Step 3: After Extraction Steps<a hidden class=anchor aria-hidden=true href=#step-3-after-extraction-steps>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mv prometheus-2.11.1.linux-amd64 prometheus 
</span></span><span style=display:flex><span>$ cd prometheus/$ ll
</span></span></code></pre></div><p>Folder contains below file:</p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/folder_structure.png alt="Folder structure"></p><ul><li><code>prometheus</code>: It&rsquo;s a binary file which is the core daemon.</li><li><code>prometheus.yml</code>: This is the config file for Prometheus service.</li><li><code>promtool</code>: This is another binary file which is used to compile the alert rules file. This will be explained in detail in the next series to this tutorial.</li></ul><h4 id=step-4-execute-the-binary-file-using-the-below-command>Step 4: Execute The Binary File Using The Below Command:<a hidden class=anchor aria-hidden=true href=#step-4-execute-the-binary-file-using-the-below-command>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ./prometheus
</span></span></code></pre></div><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/start_prometheus.png alt="Start Prometheus"></p><p>Visit <code>localhost:9090</code> on your web browser:</p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/prometheus_ui.png alt="Prometheus UI"></p><p>Your Prometheus is up and running!</p><p>If you notice in <code>prometheus/</code> folder, It created a folder with the name <code>data</code>. Prometheus starts storing metrics in this <code>/data</code> folder only.</p><p>Now get all metric list by hitting the URL to <code>localhost:9090/metrics</code></p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/metrics.png alt="Prometheus metrics"></p><p>Prometheus stores data on disk in time series, with its custom format. Behind the scenes, it uses <a href=https://github.com/google/leveldb>leveldb</a>. You can check more <a href=https://prometheus.io/docs/prometheus/latest/storage/>details</a> on storage.</p><p>Here is a sample production command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ~/prometheus/prometheus --storage.tsdb.path<span style=color:#f92672>=</span>/var/lib/prometheus/data/ --web.external-url<span style=color:#f92672>=</span>http://myurl.com:9090
</span></span></code></pre></div><p><code>--storage.tsdb.path</code>: Specify the path where you want to save Prometheus data.<br><code>--web.external-url</code>: You can use this option if you want to bind your address with your URL.</p><p>You can get below error in case of your folder don’t have appropriate permission:</p><p><code>level=error ts=2019-08-06T14:25:19.791Z caller=main.go:731 err="opening storage failed: lock DB directory: open /var/lib/lock: permission denied"</code></p><p>You can try appending <code>sudo</code> to your command OR you can give appropriate permission to your folder.</p><h4 id=step-5-run-prometheus-as-service>Step 5: Run Prometheus As Service.<a hidden class=anchor aria-hidden=true href=#step-5-run-prometheus-as-service>#</a></h4><ol><li>Create File</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ vim /etc/systemd/system/prometheus.service
</span></span></code></pre></div><ol start=2><li>Just paste below code:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>Unit<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Description<span style=color:#f92672>=</span>Prometheus Server
</span></span><span style=display:flex><span>Documentation<span style=color:#f92672>=</span>https://prometheus.io/docs/introduction/overview/
</span></span><span style=display:flex><span>After<span style=color:#f92672>=</span>network-online.target
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>Service<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>User<span style=color:#f92672>=</span>root
</span></span><span style=display:flex><span>Restart<span style=color:#f92672>=</span>on-failure
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Change this line if you download the </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Prometheus on different path user</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ExecStart<span style=color:#f92672>=</span>~/prometheus/prometheus --storage.tsdb.path<span style=color:#f92672>=</span>/var/lib/prometheus/data/ --web.external-url<span style=color:#f92672>=</span>http://myurl.com:9090
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>Install<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>WantedBy<span style=color:#f92672>=</span>multi-user.target
</span></span></code></pre></div><pre><code>Save and exit.
</code></pre><ol start=3><li>Reload the Systemctl Daemon:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo systemctl daemon-reload
</span></span></code></pre></div><ol start=4><li>Start the Prometheus service:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl start prometheus
</span></span></code></pre></div><p>Till now you learned how to do basic Prometheus setup. Now, you will learn, how to set up Prometheus exporter.</p><h2 id=prometheus-exporter-setup>Prometheus Exporter Setup<a hidden class=anchor aria-hidden=true href=#prometheus-exporter-setup>#</a></h2><h3 id=what-is-exporter>What Is Exporter?<a hidden class=anchor aria-hidden=true href=#what-is-exporter>#</a></h3><p>Exporters can be any scripts or services which will fetch specific metrics from your system and gives data in Prometheus format. There are primarily two ways by which you can fetch metrics and store into Prometheus:</p><ol><li><p>Via exporter, In which one service will run on a specific port. So whenever Prometheus service will hit exporter URL with the specific port it will give output in Prometheus format. We will see sample response in the below example during setting up the node exporter.</p></li><li><p>The second approach is you can write a script which will push data in time series to the Prometheus server. Any metric which cannot be scrape by the exporter, It can be pushed using the push method. You will get more info here on this.</p></li></ol><p>You can use both methods but usually, people prefer the first one to fetch metrics.</p><p>So now we are going to setup <a href=https://github.com/prometheus/node_exporter>node exporter</a>. It will fetch your server metrics which will be RAM/DISK/CPU utilization, network, io etc.</p><h3 id=node-exporter-setup>Node Exporter Setup<a hidden class=anchor aria-hidden=true href=#node-exporter-setup>#</a></h3><h4 id=step-1-download-the-binary-file-and-start-node-exporter>Step 1: Download The Binary File And Start Node Exporter:<a hidden class=anchor aria-hidden=true href=#step-1-download-the-binary-file-and-start-node-exporter>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ wget https://github.com/prometheus/node_exporter/releases/download/v0.18.1/node_exporter-0.18.1.linux-amd64.tar.gz
</span></span><span style=display:flex><span>$ tar -xvzf node_exporter-0.18.1.linux-amd64.tar.gz
</span></span><span style=display:flex><span>$ mv node_exporter-0.18.1.linux-amd64 node_exporter
</span></span><span style=display:flex><span>$ cd node_exporter
</span></span><span style=display:flex><span>$ ./node_exporter
</span></span></code></pre></div><p>You should see below output once the node exporter is started:</p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/node_exporter_start.png alt="Start node exporter"></p><p>Just visit to <code>localhost:9100/metrics</code></p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/node_exporter_metrics.png alt="Node exporter metrics"></p><h4 id=step-2-lets-run-node-exporter-as-service>Step 2: Let&rsquo;s Run Node Exporter As Service:<a hidden class=anchor aria-hidden=true href=#step-2-lets-run-node-exporter-as-service>#</a></h4><ol><li>Create a file in below path:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>/etc/systemd/system/node-exporter.service
</span></span></code></pre></div><ol start=2><li>Just paste below code:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>Unit<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Description<span style=color:#f92672>=</span>Node exporter
</span></span><span style=display:flex><span>After<span style=color:#f92672>=</span>network-online.target
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>Service<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>User<span style=color:#f92672>=</span>root
</span></span><span style=display:flex><span>Restart<span style=color:#f92672>=</span>on-failure
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Change this line if you download the </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Prometheus on different path user</span>
</span></span><span style=display:flex><span>ExecStart<span style=color:#f92672>=</span>~/node_exporter/node_exporter
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>Install<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>WantedBy<span style=color:#f92672>=</span>multi-user.target
</span></span></code></pre></div><ol start=3><li>Reload the systemctl daemon:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl daemon-reload
</span></span></code></pre></div><ol start=4><li>Start the Prometheus service:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl start node-exporter
</span></span></code></pre></div><h4 id=step-3-prometheusyml>Step 3: <code>prometheus.yml</code><a hidden class=anchor aria-hidden=true href=#step-3-prometheusyml>#</a></h4><p>You Are Set With Node Exporter. Now In Prometheus, We Need To Configure This Node Exporter Reference So That Prometheus Can Collect Metrics From This Exporter.</p><p>Open file <code>~/prometheus/prometheus.yml</code> add below configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>scrape_configs:
</span></span><span style=display:flex><span> <span style=color:#75715e># The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.</span>
</span></span><span style=display:flex><span> - job_name: <span style=color:#e6db74>&#39;prometheus&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># metrics_path defaults to &#39;/metrics&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># scheme defaults to &#39;http&#39;. </span>
</span></span><span style=display:flex><span>   static_configs:
</span></span><span style=display:flex><span>   - targets: <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;localhost:9090&#39;</span><span style=color:#f92672>]</span> 
</span></span><span style=display:flex><span><span style=color:#75715e># Add below block for node_exporter</span>
</span></span><span style=display:flex><span> - job_name: node_exporter
</span></span><span style=display:flex><span>   scrape_interval: 1m
</span></span><span style=display:flex><span>   scrape_timeout:  1m
</span></span><span style=display:flex><span>   metrics_path: <span style=color:#e6db74>&#34;/metrics&#34;</span> 
</span></span><span style=display:flex><span>   static_configs: 
</span></span><span style=display:flex><span>   - targets: <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;localhost:9100&#39;</span><span style=color:#f92672>]</span>
</span></span></code></pre></div><p>Save and exit.</p><p><code>job_name</code>: You can give any name to your scrape job.<br><code>scrape_interval</code>: Interval in which Prometheus will scrape the metrics from the specified URL.<br><code>scrape_timeout</code>: If your exporter has taken more than 1m to scrape the metrics it will be a timeout.<br><code>metric_path</code>: This is what your endpoint’s path should be (i.e localhost:9100/metrics)<br><code>targets</code>: Here you can specify the number of servers on which node exporter is running with the same configuration.</p><h4 id=step-4-heres-the-command-to-execute-prometheus>Step 4: Here&rsquo;s The Command To Execute Prometheus:<a hidden class=anchor aria-hidden=true href=#step-4-heres-the-command-to-execute-prometheus>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>~/prometheus/prometheus --storage.tsdb.path<span style=color:#f92672>=</span>/var/lib/prometheus/data/ --config.file<span style=color:#f92672>=</span>~/prometheus/prometheus.yml --web.external-url<span style=color:#f92672>=</span>http://myurl.com:9090
</span></span></code></pre></div><p>Also, don’t forget to make the same changes in your service <code>file:/etc/systemd/system/prometheus.service</code></p><h4 id=step-5-restart-prometheus-service>Step 5: Restart prometheus service<a hidden class=anchor aria-hidden=true href=#step-5-restart-prometheus-service>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl restart prometheus
</span></span></code></pre></div><h4 id=step-6-visiting-localhost9090-again>Step 6: Visiting Localhost:9090 Again<a hidden class=anchor aria-hidden=true href=#step-6-visiting-localhost9090-again>#</a></h4><p>Now visit the URL <code>localhost:9090</code>. In Expression field you can search for <code>node_filesystem_size_bytes</code> by clicking on the <code>Execute</code> button. You will get the below stats:</p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/disk_utilization.png alt="Disk utilization graph on node Exporter"></p><p>After clicking on the <code>graph</code>:</p><p><img loading=lazy src=https://ashish.one/img/prometheus-setup/disk_utilization_graph.png alt="Disk utilization graph on node Exporter"></p><h2 id=installation-with-docker>Installation with Docker<a hidden class=anchor aria-hidden=true href=#installation-with-docker>#</a></h2><h3 id=prometheus>Prometheus<a hidden class=anchor aria-hidden=true href=#prometheus>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker run <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -p 9090:9090 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -v ~/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    prom/prometheus
</span></span></code></pre></div><h3 id=node-exporter>Node Exporter<a hidden class=anchor aria-hidden=true href=#node-exporter>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>docker run -d <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --net<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;host&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --pid<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;host&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v <span style=color:#e6db74>&#34;/:/host:ro,rslave&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  quay.io/prometheus/node-exporter <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --path.rootfs<span style=color:#f92672>=</span>/host
</span></span></code></pre></div><p>The rest of option will remain same as i explained in above parts.</p><h1 id=at-the-end>At the end<a hidden class=anchor aria-hidden=true href=#at-the-end>#</a></h1><p>Like this, you can explore each metrics like memory, CPU, etc.</p><p>There are already lots of exporters is available on the internet like Nginx exporter, MongoDB exporter, MySQL server exporter, etc. Just download them and start using it. You can check more info about exporter <a href=https://prometheus.io/docs/instrumenting/exporters/>here</a>.</p><p><strong>You have now successfully installed Prometheus and node exporters.</strong></p><p>If you see this <a href=https://prometheus.io/docs/introduction/overview/#architecture>official architecture diagram</a>, we have successfully set up the <strong>Prometheus</strong>, <strong>Pushgateway/Exporters</strong>, and <strong>Prometheus UI</strong>.</p><p>In the <a href=https://ashish.one/blogs/setup-alertmanager/>Part 2</a>, we will see how we can set up an alert manager and how to setup alert over the metrics.</p><p>Stay tuned for the new updates.</p><blockquote><p><strong>“NOTE: PROMETHEUS IS METRIC STORAGE SYSTEM. DON’T TRY TO STORE ANY KIND OF LOGS. IT IS NOT RECOMMENDED.”</strong></p></blockquote><p><strong>In case of any confusion or issues leave comments below :)</strong></p><p>Article partially posted on <a href=https://pepipost.com/tutorials/setup-prometheus-and-exporters/>Pepipost tutorial</a> by me.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ashish.one/tags/prometheus/>prometheus</a></li><li><a href=https://ashish.one/tags/alertmanager/>alertmanager</a></li></ul><nav class=paginav><a class=prev href=https://ashish.one/blogs/setup-alertmanager/><span class=title>« Prev</span><br><span>[Part 2] How to setup alertmanager and send alerts ?</span></a>
<a class=next href=https://ashish.one/blogs/min-gram-and-max-gram-elasticsearch/><span class=title>Next »</span><br><span>What should be the value of max_gram and min_gram in Elasticsearch?</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on twitter" href="https://twitter.com/intent/tweet/?text=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f&url=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f&hashtags=prometheus%2calertmanager"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f&title=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f&summary=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f&source=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f&title=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on whatsapp" href="https://api.whatsapp.com/send?text=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f%20-%20https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [Part 1] How To Setup Prometheus And Exporters For Alerts And Monitoring? on telegram" href="https://telegram.me/share/url?text=%5bPart%201%5d%20How%20To%20Setup%20Prometheus%20And%20Exporters%20For%20Alerts%20And%20Monitoring%3f&url=https%3a%2f%2fashish.one%2fblogs%2fsetup-prometheus-and-exporters%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><script src=https://giscus.app/client.js data-repo=ashishtiwari1993/ashish.one data-repo-id="MDEwOlJlcG9zaXRvcnkyMTAxMjkzNjY=" data-category=General data-category-id=DIC_kwDODIZR1s4CP1P2 data-mapping=title data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark_high_contrast data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://ashish.one/>ashish.one</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>